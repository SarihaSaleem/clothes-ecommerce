{"ast":null,"code":"import axios from 'axios';\n\n// Use the CRA dev proxy in development: set baseURL to '/api' so the dev server proxies to backend\n// This avoids CORS problems during development. If you prefer direct backend host, set full URL like\n// 'http://localhost:5000/api' and enable withCredentials if your backend uses cookies.\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'development' ? '/api' : process.env.REACT_APP_API_URL || 'http://localhost:5000/api',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  // temporarily disable credentials to isolate Network/CORS errors. Enable if your backend uses cookies.\n  withCredentials: false\n});\n\n// Add a request interceptor for debugging\napi.interceptors.request.use(config => {\n  console.log(`Making ${config.method.toUpperCase()} request to: ${config.baseURL}${config.url}`);\n  return config;\n}, error => {\n  console.error('Request error:', error);\n  return Promise.reject(error);\n});\n\n// Add a response interceptor for error handling\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response) {\n    // Server responded with error status\n    console.error('Response error:', error.response.data);\n  } else if (error.request) {\n    // Request was made but no response\n    console.error('Network error:', error.message);\n  } else {\n    // Something else happened\n    console.error('Error:', error.message);\n  }\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","NODE_ENV","REACT_APP_API_URL","headers","withCredentials","interceptors","request","use","config","console","log","method","toUpperCase","url","error","Promise","reject","response","data","message"],"sources":["C:/Users/sarih/OneDrive/Desktop/clothes-ecommerce/frontend/src/api/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Use the CRA dev proxy in development: set baseURL to '/api' so the dev server proxies to backend\r\n// This avoids CORS problems during development. If you prefer direct backend host, set full URL like\r\n// 'http://localhost:5000/api' and enable withCredentials if your backend uses cookies.\r\nconst api = axios.create({\r\n    baseURL: process.env.NODE_ENV === 'development' ? '/api' : (process.env.REACT_APP_API_URL || 'http://localhost:5000/api'),\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    // temporarily disable credentials to isolate Network/CORS errors. Enable if your backend uses cookies.\r\n    withCredentials: false\r\n});\r\n\r\n// Add a request interceptor for debugging\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        console.log(`Making ${config.method.toUpperCase()} request to: ${config.baseURL}${config.url}`);\r\n        return config;\r\n    },\r\n    (error) => {\r\n        console.error('Request error:', error);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Add a response interceptor for error handling\r\napi.interceptors.response.use(\r\n    (response) => {\r\n        return response;\r\n    },\r\n    (error) => {\r\n        if (error.response) {\r\n            // Server responded with error status\r\n            console.error('Response error:', error.response.data);\r\n        } else if (error.request) {\r\n            // Request was made but no response\r\n            console.error('Network error:', error.message);\r\n        } else {\r\n            // Something else happened\r\n            console.error('Error:', error.message);\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACrBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAG,MAAM,GAAIF,OAAO,CAACC,GAAG,CAACE,iBAAiB,IAAI,2BAA4B;EACzHC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB,CAAC;EACD;EACAC,eAAe,EAAE;AACrB,CAAC,CAAC;;AAEF;AACAR,GAAG,CAACS,YAAY,CAACC,OAAO,CAACC,GAAG,CACvBC,MAAM,IAAK;EACRC,OAAO,CAACC,GAAG,CAAC,UAAUF,MAAM,CAACG,MAAM,CAACC,WAAW,CAAC,CAAC,gBAAgBJ,MAAM,CAACV,OAAO,GAAGU,MAAM,CAACK,GAAG,EAAE,CAAC;EAC/F,OAAOL,MAAM;AACjB,CAAC,EACAM,KAAK,IAAK;EACPL,OAAO,CAACK,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;EACtC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;;AAED;AACAlB,GAAG,CAACS,YAAY,CAACY,QAAQ,CAACV,GAAG,CACxBU,QAAQ,IAAK;EACV,OAAOA,QAAQ;AACnB,CAAC,EACAH,KAAK,IAAK;EACP,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAChB;IACAR,OAAO,CAACK,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAACG,QAAQ,CAACC,IAAI,CAAC;EACzD,CAAC,MAAM,IAAIJ,KAAK,CAACR,OAAO,EAAE;IACtB;IACAG,OAAO,CAACK,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACK,OAAO,CAAC;EAClD,CAAC,MAAM;IACH;IACAV,OAAO,CAACK,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAACK,OAAO,CAAC;EAC1C;EACA,OAAOJ,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,eAAelB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}